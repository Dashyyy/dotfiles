# run apps using UWSM (recommended) https://wiki.hyprland.org/Useful-Utilities/Systemd-start/#launching-applications-inside-session
$run = exec, uwsm-app --
$fp = flatpak run

$terminal = ghostty
$browser = $fp app.zen_browser.zen

$mainMod = SUPER



# -----------------------------------------------------
# -----------------------------------------------------
# KEYBINDS
# -----------------------------------------------------
# -----------------------------------------------------

# -----------------------------------------------------
# Windows
# -----------------------------------------------------

# Controls
# -----------------------------------------------------
bindd = $mainMod, Q,            Close Window,       killactive
bindd = $mainMod SHIFT, Q,      Kill Window,        forcekillactive
bindd = $mainMod, F,            Maximize,           fullscreen, 1
bindd = $mainMod SHIFT, F,      Fullscreen,         fullscreenstate, 2


# Focus
# -----------------------------------------------------
bindd = $mainMod, 9,            Move focus across monitors, focusmonitor, -1
bindd = $mainMod SHIFT, S,      Swap Focus,                 layoutmsg, cyclenext
bindd = $mainMod, 8,            Swap Monitor Workspace,     workspace, m-1

# Movement
# -----------------------------------------------------
bindm = $mainMod, mouse:272, movewindow
bindd = $mainMod, S,            Swap Master,                layoutmsg, rollprev
bindd = $mainMod SHIFT, 8,      Move Window to Workspace,   movetoworkspacesilent, m-1
bindd = $mainMod SHIFT, 9,      Move window across monitors, movewindow, mon:-1

# Resizing
# -----------------------------------------------------
bindm = $mainMod, mouse:273, resizewindow                  # Resize window with the mouse
bind = $mainMod, right, resizeactive, 100 0                # Increase window width with keyboard
bind = $mainMod, left, resizeactive, -100 0                # Reduce window width with keyboard
bind = $mainMod, up, resizeactive, 0 -100                  # Reduce window height with keyboard
bind = $mainMod, down, resizeactive, 0 100                 # Increase window height with keyboard

# -----------------------------------------------------
# Workspace Control
# -----------------------------------------------------
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6

# -----------------------------------------------------
# Utilities
# -----------------------------------------------------

# Clips
# -----------------------------------------------------
bindd = $mainMod SHIFT, M,      Show GSR UI,        $run gsr-ui-cli toggle-show
bindd = $mainMod, M,            Save Clip,          $run gsr-ui-cli replay-save 

# Screenshot
# -----------------------------------------------------
bindd = $mainMod, J,            Snipping Tool, exec,    hyprshot -m region --freeze --raw | swappy -f -
bindd = $mainMod SHIFT, J,      Screenshot,             $run hyprshot -m active -m output

# Screen WIP
# -----------------------------------------------------
binddl = $mainMod, H,            Low Brightness,    $run hyprctl hyprsunset gamma 60
binddl = $mainMod SHIFT, H,      High Brighness,    $run hyprctl hyprsunset gamma 100
binddl = $mainMod, N,            Blue Light Filter, $run bluelight-toggle

# Applications
# -----------------------------------------------------
$terminal = ghostty
$browser = $fp app.zen_browser.zen
binddr = $mainMod, Super_L,     Walker,             $run nc -U /run/user/1000/walker/walker.sock
bindd = $mainMod, B,            Browser,            $run $browser
bindd = $mainMod SHIFT, B,      Kalender,           $run $browser-ddipijimlhphfgogcahdkjldggafcbih-Default.desktop
bindd = $mainMod, W,            Whatsapp,           $run $browser-hnpfjngllnobngcgfapefoaidbinmjnm-Default.desktop
bindd = $mainMod SHIFT, W,      Github,             $run $browser https://github.com
bindd = $mainMod SHIFT, R,      Via,                $run $browser-hoeckimmdkhoojlgdafcefdbcpkigklk-Default.desktop
bindd = $mainMod, K,            Terminal,           $run $terminal
bindd = $mainMod SHIFT, A,      Hyprland Wiki,      $run $browser https://wiki.hyprland.org
bindd = $mainMod, E,            VSCode,             $run vscodium.desktop
bindd = $mainMod SHIFT, E,      File Manager,       $run thunar.desktop
bindd = $mainMod, O,            Spotify,            $run $fp com.spotify.Client
bindd = $mainMod SHIFT, O,      Xournal++,          $run com.github.xournalpp.xournalpp.desktop
bindd = $mainMod SHIFT, G,      Hyprlay,            $run ~/Code/hyprlay/target/debug/hyprlay
bindd = $mainMod, L,            Steam,              $run steam.desktop
bindd = $mainMod SHIFT, L,      Discord,            $run $fp com.discordapp.Discord
#bindd = $mainMod, D,            Mail,               $run $browser-jnpecgipniidlgicjocehkhajgdnjekh-Default.desktop
#bindd = $mainMod SHIFT, D,      Uni Mail,           $run $browser-faolnafnngnfdaknnbpnkhgohbobgegn-Default.desktop

# Commands
# -----------------------------------------------------
bindd = $mainMod, T,            Bluetooth,          $run blueman-manager.desktop
bindd = $mainMod, G,            Btop,               $run btop.desktop
bindd = $mainMod, A,            yay,                $run $terminal -e yay
binddl = $mainMod, I,           Idle toggle, exec,  (pidof hypridle && pkill -9 hypridle) || hypridle
bindd = $mainMod SHIFT, I,      Lock,               $run loginctl lock-session

# Media Control
# -----------------------------------------------------
bindl = , XF86AudioRaiseVolume,     $run wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 2.5%+
bindl = , XF86AudioLowerVolume,     $run wpctl set-volume @DEFAULT_AUDIO_SINK@ 2.5%-
bindl = , XF86AudioMute,            $run wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindl = SHIFT, XF86AudioMute,       $run pactl set-default-sink $(pactl list sinks short | awk '/SUSPENDED$/ {print $1}')
bindl = , XF86AudioPlay,            $run playerctl play-pause
bindl = SHIFT, XF86AudioPlay,       exec, playerctld shift || playerctld daemon     # restart if shift is not working
bindl = , XF86AudioPrev,            $run playerctl previous
bindl = SHIFT, XF86AudioPrev,       $run playerctl position 15-
bindl = , XF86AudioNext,            $run playerctl next
bindl = SHIFT, XF86AudioNext,       $run playerctl position 15+
bindl = , XF86MonBrightnessDown,    $run playerctl volume 0.05-
bindl = , XF86MonBrightnessUp,      $run playerctl volume 0.05+

# Miscellaneous
# -----------------------------------------------------
bindd = $mainMod, P,                    Focus Mode,         $run hyprctl --batch "keyword monitor DP-2, disable; keyword monitor HDMI-A-1, disable"
bindd = $mainMod SHIFT, P,              Sunshine Setup,     $run sunshine-setup
bindds = Control_L&Alt_L, P,            Sunshine Setup,     $run run0 sunshine-setup
binddl = $mainMod, R,                   Reload Hyprland,    $run hyprctl reload
binddls = Control_L&Alt_L, R,           Reload Hyprland,    $run hyprctl reload

# -----------------------------------------------------
# Global Application Shortcuts
# -----------------------------------------------------

# Discord
# -----------------------------------------------------
bindd = $mainMod SHIFT, V,        Discord Mute,       $run global-electron-sc "Ctrl_Shift, M" class com.discordapp.Discord
bindd = $mainMod, V,            Discord Mute,       sendshortcut, Ctrl_Shift, M, class:com.discordapp.Discord     # Works only when focused atm
bindd = $mainMod SHIFT, V,  Discord Silent,     $run global-electron-sc "Ctrl_Shift, D" class com.discordapp.Discord
# bindd = $mainMod SHIFT, V,      Discord Silent,     sendshortcut, Ctrl_Shift, D, class:discord    # Works only when focused atm
# See https://github.com/hyprwm/Hyprland/discussions/10351

# -----------------------------------------------------
# -----------------------------------------------------
# INFO
# -----------------------------------------------------
# -----------------------------------------------------

# hyprlang noerror true


# Free Buttons
# -----------------------------------------------------
C, X, Y, Z, 7, 8, 9, ., ",", -, #, +

# Not needed atm
# -----------------------------------------------------

# Window Focus
#bindd = $mainMod, right,        Focus Right,        movefocus, r
#bindd = $mainMod, left,         Focus Left,         movefocus, l
#bindd = $mainMod, up,           Focus Up,           movefocus, u
#bindd = $mainMod, down,         Focus Down,         movefocus, d
#bind = $mainMod SHIFT, right, movewindow, mon:r                 # Move on the right monitor
#bind = $mainMod SHIFT, left, movewindow, mon:l                  # Move on the left monitor

# hyprlang noerror false
